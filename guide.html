<!DOCTYPE html 
PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Ioke &raquo; Programming Guide</title>
    <link rel="stylesheet" href="style/ioke-style.css" type="text/css" media="screen" />
  </head>
  <body>
    <div id="logo">
      <a href="index.html">
        <img src="img/IokeLogo.png" alt="Ioke Logo" width="118" height="115" border="0"/>
      </a>
    </div>

    <div id="header">
      Programming Guide
    </div>

    <div id="content">
    <table cellpadding="0" cellspacing="0" border="0">
      <tr>
        <td valign="top" style="background: #E6EEEE;">
            <table cellpadding="0" cellspacing="0" border="0" id="menu">
              <tr>
                <td>
                  <span class="menuItem">
                    <a href="index.html" class="unselectedMenuItem">About Ioke</a>
                  </span>
                </td>
              </tr>
              <tr>
                <td style="height:.4em"></td>
              </tr>

              <tr>
                <td>
                  <span class="menuItem">
                    <a href="guide.html" class="selectedMenuItem">Guide</a>
                  </span>
                </td>
              </tr>
              <tr>
                <td style="height:.4em"></td>
              </tr>

              <tr>
                <td>
                  <span class="menuItem">
                    <a href="download.html" class="unselectedMenuItem">Download</a>
                  </span>
                </td>
              </tr>
              <tr>
                <td style="height:.4em"></td>
              </tr>

              <tr>
                <td>
                  <span class="menuItem">
                    <a href="http://ioke.kenai.com" class="unselectedMenuItem">Project page</a>
                  </span>
                </td>
              </tr>
              <tr>
                <td style="height:.4em"></td>
              </tr>

              <tr>
                <td>
                  <span class="menuItem">
                    <a href="dok/index.html" class="unselectedMenuItem">Reference</a>
                  </span>
                </td>
              </tr>
              <tr>
                <td style="height:.4em"></td>
              </tr>
            </table>
        </td>
        <td>
          <table cellpadding="0" cellspacing="0" border="0" style="width:50em">
            <tr>
              <td style="width:10em"></td>
              <td>
                <ol>
                  <li>
                    <a href="#introduction">Introduction</a>
                    <ol>
                      <li>
                        <a href="#vision">Vision</a>
                      </li>
                      <li>
                        <a href="#gettingStarted">Getting started</a>
                        <ol>
                          <li>
                            <a href="#runningScripts">Running scripts</a>
                          </li>
                          <li>
                            <a href="#interactive">Interactive mode</a>
                          </li>
                        </ol>
                      </li>
                    </ol>
                  </li>

                  <li>
                    <a href="#syntax">Syntax</a>
                    <ol>
                      <li>
                        <a href="#literals">Literal values</a>
                      </li>
                      <li>
                        <a href="#operatorShuffling">Operator shuffling</a>
                      </li>
                      <li>
                        <a href="#assignmentShuffling">Assignment shuffling</a>
                      </li>
                    </ol>
                  </li>

                  <li>
                    <a href="#executionModel">Execution model</a>
                    <ol>
                      <li>
                        <a href="#pass">pass</a>
                      </li>
                    </ol>
                  </li>

                  <li>
                    <a href="#objects">Objects</a>
                    <ol>
                      <li>
                        <a href="#base">Base</a>
                      </li>
                      <li>
                        <a href="#ground">Ground</a>
                      </li>
                      <li>
                        <a href="#origin">Origin</a>
                      </li>
                      <li>
                        <a href="#defaultBehavior">DefaultBehavior</a>
                      </li>
                      <li>
                        <a href="#nilTrueFalse">nil, true, false</a>
                      </li>
                    </ol>
                  </li>

                  <li>
                    <a href="#assignment">Assignment</a>
                  </li>

                  <li>
                    <a href="#controlFlow">Control flow</a>
                    <ol>
                      <li>
                        <a href="#comparison">Comparison</a>
                      </li>
                      <li>
                        <a href="#conditionals">Conditionals</a>
                      </li>
                      <li>
                        <a href="#iteration">Iteration</a>
                      </li>
                    </ol>
                  </li>

                  <li>
                    <a href="#code">Code</a>
                    <ol>
                      <li>
                        <a href="#methods">Methods</a>
                      </li>
                      <li>
                        <a href="#macros">Macros</a>
                      </li>
                      <li>
                        <a href="#blocks">Blocks</a>
                      </li>
                      <li>
                        <a href="#messageChains">Message chains</a>
                      </li>
                    </ol>
                  </li>

                  <li>
                    <a href="#introspection">Introspection and reflection</a>
                  </li>

                  <li>
                    <a href="#importing">Importing</a>
                  </li>

                  <li>
                    <a href="#coreKinds">Core kinds</a>
                    <ol>
                      <li>
                        <a href="#conditions">Conditions</a>
                      </li>
                      <li>
                        <a href="#text">Text</a>
                      </li>
                      <li>
                        <a href="#symbols">Symbols</a>
                      </li>
                      <li>
                        <a href="#numbers">Numbers</a>
                      </li>
                      <li>
                        <a href="#lists">Lists</a>
                      </li>
                      <li>
                        <a href="#dicts">Dicts</a>
                      </li>
                      <li>
                        <a href="#rangesAndPairs">Ranges and Pairs</a>
                      </li>
                      <li>
                        <a href="#enumerable">Enumerable</a>
                      </li>
                      <li>
                        <a href="#regexps">Regexps</a>
                      </li>
                      <li>
                        <a href="#filesystem">FileSystem</a>
                      </li>
                    </ol>
                  </li>

                  <li>
                    <a href="#libraries">Libraries</a>
                    <ol>
                      <li>
                        <a href="#iik">IIk</a>
                      </li>
                      <li>
                        <a href="#ispec">ISpec</a>
                      </li>
                      <li>
                        <a href="#dokgen">DokGen</a>
                      </li>
                    </ol>
                  </li>
                  <li>
                    <a href="#missing">What is missing</a>
                  </li>
                  <li>
                    <a href="#futurePlans">Future plans</a>
                  </li>
                </ol>

                <hr/>

                <div class="chapter">
                  <h2><a name="introduction">Introduction</a></h2>
                  <p>Ioke is a general purpose language. It is a strongly typed, extremely dynamic, prototype object oriented language. It is homoiconic and it's closest ancestors is Io, Smalltalk, Ruby and Lisp - but it's quite a distance from all of them. It looks a lot like Io, to a limit.</p>

                  <p>Ioke is targeted at the Java Virtual Machine and is tightly integrated with the platform. Why the JVM? It's available everywhere, it gives severeal important features such as world class garbage collectors, capable thread schedulers and an amazing JIT compiler. All of these are things that server Ioke well, without requiring direct development resources from the Ioke team. Access to the Java platform also means access to all existing libraries and functionality, with all that entails. The JVM is just a very pragmatic choice.</p>

                  <p>You're probably reading this guide at <a href="http://ioke.org/guide.html">ioke.org</a>. That is the official home of the project, although some of the project functionality is hosted at <a href="http://ioke.kenai.org">Kenai</a>, where such things as mailing lists and a bug tracker is available. The canonical source repository for Ioke exists at GitHub, at <a href="http://github.org/olabini/ioke/tree/master">http://github.org/olabini/ioke/tree/master</a>.</p>

                  <p>The current version of Ioke is called Ioke 0. The naming of Ioke will change regularily with major revisions. There are two different versions in play here. Ioke 0 is the name and version of the language and core libraries. The initial implementation for Ioke 0 is called ikJVM 0.1.0, and the version numbers are not interdependent. The next major version of Ioke will be called Ioke S, and you can find information about it in the chapter on <a href="#futurePlans">future plans</a>.</p>

                  <p>This programming guide -- together with the reference for your current version -- should be the complete document needed to understand Ioke 0, how to program in it, how to understand the names and concepts used, and also to give an initial inkling on what I think is good taste.</p>


                  <div class="section">
                    <h3><a name="vision">Vision</a></h3>

                    <p>The evolution of programming languages is a steady progression of finding new ways to express abstractions naturally - in a way that doesn't stray to far away from the smaller details. A programming language have to make it possible to abstract a way common things, while making it easy to customize these abstractions in very detailed ways. A programming language should be able to do this well without sacrificing readability and understandability. This tension lies at the core of programming.</p>

                    <p>How do you create a language that makes it easy to express powerful concepts in a succinct way, while still making it easy to maintain and work with after the fact, without turning it into a new compression mode? How do make it easy for a programmer to express high level abstractions that are abstractions of abstractions of abstractions?</p>

                    <p>There are many open problems in programming language design. Concurrency is one of them, performance another. These are two areas Ioke does not address. Instead, Ioke is a remodeling of the core concepts and ideas embodied in other programming languages.</p>

                    <p>Are still Lisp and Smalltalk the most powerful languages around, or are there ways of providing more expressiveness without sacrificing understandability? Is there a way to combine all the lessons learned from languages like Ruby and Python, and patch them back into a Lisp and Smalltalk core? Is it possible to do this while taking some of the benefits of Io? Can a language be both small, regular, homoiconic, reflective and easy to understand? I hope that Ioke is just that.</p>

                    <p>Simplicity doesn't mean lack of power. Small, simple, orthogonal functionality can be more powerful than larger, complicated abstractions that doesn't fit together.</p>

                    <p>Io explicitly states that the goal of the language is to refocus attention on expressiveness, and with Ioke I want to take that philosophy one step further.</p>

                    <p>It's important to realize that an experiment like this doesn't necessarily have to mean the language can't be used for real projects. By wedding Ioke to the Java Virtual Machine, I make it easy to get access to good libraries and existing implementations on most platforms. In that way, Ioke can be used to create real systems, even though the ecosystem will initially be very small. And I think that this is necessary. How can you know if a language really is worthwhile or not, if you can't use it as a general purpose programming language? The Java platform makes this possible.</p>
                  </div>

                  <div class="section">
                    <h3><a name="gettingStarted">Getting started</a></h3>
                    <p>Ioke is very easy to get started with. The first step is to download a package. Which one you choose depends on what platform you're on, and whether you want to build Ioke yourself, or just start using it. This guide will only cover using a prebuilt version. Go to the download page at <a href="http://ioke.org/download.html">http://ioke.org/download.html</a>, and download one of the distributions. At the time of writing the full version of Ioke is Ioke 0 ikJVM 0.1.0. Choose the latest download in the 0.1-series for this document to apply. In later revisions of the document, any major change will be noted inline.</p>

                    <p>Once you have downloaded the distribution, you need to unpack it somewhere, and finally add the bin-directory to your PATH environment variable. There is also a jar-download that can be run directly. If you choose this option you don't get the benefits of having a home for Ioke, which in some cases be inconvenient. Ioke can be run directly from the jar-file, though.</p>

                    <div class="section">
                      <h4><a name="runningScripts">Running scripts</a></h4>
                      <p>To run an Ioke script, you can generally just use the ioke-command:</p>
                      <pre class="code">
$ ioke helloWorld.ik
Hello world
                      </pre>

                      <p>You can also execute snippets of code on the command line using the -e argument to the ioke-command. You can have several of these one the same line too:</p>

                      <pre class="code">
$ ioke -e'"Hello world" println' -e'"Goodbye world" println'
Hello world
Goodbye world
                      </pre>

                      <p>When using -e, be careful about what quoting style you use, since the shell sometimes can munge up your commands if you don't surround them correctly.</p>
                      <p>The ioke command has several helpful command line options, that can change what happens during execution. These are:</p>
                      <dl>
                        <dt>-Cdirectory</dt>
                        <dd>Switch to directory before executing any files and command line scripts. This will make the directory the initial current working directory for Ioke during the execution of the JVM.</dd>

                        <dt>-d</dt>
                        <dd>Enable debug output.</dd>

                        <dt>-e script</dt>
                        <dd>Execute script, as describe above. May occur more than once on a command line.</dd>

                        <dt>-h</dt>
                        <dt>--help</dt>
                        <dd>Display help information, including descriptions of these command line options.</dd>

                        <dt>-Idirectory</dt>
                        <dd>Add directory to the load path of Ioke. May occur more than once on a command line.</dd>

                        <dt>-JjvmOptions</dt>
                        <dd>Pass on options to the JVM. This can be used to change any runtime parameters that your JVM takes. May occur more than once. The options are provided directly after the -J, so if you want to change the maximum amount of memory used, you can do that writing -J-Xmx128M. </dd>

                        <dt>--copyright</dt>
                        <dd>Print copyright information and exit.</dd>

                        <dt>--version</dt>
                        <dd>Print version information and exit</dd>

                        <dt>--server</dt>
                        <dd>Run the JVM in server Hotspot mode</dd>

                        <dt>--client</dt>
                        <dd>Run the JVM in client Hotspot mode (the default)</dd>

                        <dt>--</dt>
                        <dd>Mark the end of options to the ioke script, anything after this is options that will be sent to the code running.</dd>
                      </dl>

                      <p>If you provide the name of a script file on the command line, it should come after all the arguments to the ioke script. Everything after the script will be added as data to the 'System programArguments' cell. You can use both one-line scripts with -e and specify a script file. If so, the script file will be run after the one-line scripts.</p>
                    </div>

                    <div class="section">
                      <h4><a name="interactive">Interactive mode</a></h4>

                      <p>If no code to execute has been specified to the ioke script, IIk - Interactive Ioke - will start. This is a REPL that allow the execution of arbitrary code at a shell that immediately displays the result. The main difference between running Ioke from a file and interactively, is that the interactive prompt will show a notice of the result of the last operation, after each execution. IIk will also invoke a debugger when a condition is encountered. This debugger gives you the possibility to closer inspect what happened. The final difference with IIk is that it does not execute code directly in Ground - which the top level inside an Ioke script will do. This difference is crucial, when considering namespacing issues.</p>

                      <p>IIk will try to use Readline through JLine if your platform supports it.</p>

                      <p>IIk will be more closely described in the section on it, <a href="#iik">here</a>, but just to give a glimpse, this is how a small session could look like:</p>
                      <pre class="code">
iik> "hello world" println
hello world
+> nil

iik> 10 * 20
+> 200

iik> 3/2
+> 3/2

iik> 3/2 + 3/2
+> 3

iik> 3/2 * 3    
+> 9/2

iik> foo = "hello"
+> "hello"

iik> foo
+> "hello"

iik> exit
Bye.
                      </pre>

                      <p>When you see the prompt "iik>", you know that IIk is waiting for input. The result of a computation is shown after the "+>" sigil. You can exit from IIk by calling either "exit" or "quit". There is also a restart named "quit" that can be invoked to quit IIk.</p>
                    </div>
                  </div>
                </div>

                <div class="chapter">
                  <h2><a name="syntax">Syntax</a></h2>

                  <p>Ioke has no keywords or statements. Everything is an expression composed of a chain of messages. A piece of code is represented as a chain of messages that links to the next message. The result of one message will be the receiver of the next message, until a "." message is received. The "." message is a terminator that throws away the current receiver. A newline will serve as a "." message in the circumstances where it feels natural.</p>

                  <p>An informal BNF description of Ioke looks like this:</p>
                  <pre style="font-family: courier;">
    program       ::=  messageChain*
    messageChain  ::=  expression*
    expression    ::=  message | brackets | operator | literal | terminator
    message       ::=  Identifier ( "(" commated? ")" )?
    commated      ::=  expression+ ( "," expression+ )*
    brackets      ::=  ( "[" commated? "]" ) | ( "{" commated? "}" )
    literal       ::=  String | Regexp | Number | Decimal
    terminator    ::=  "." | "\n"
    comment       ::=  ";" .* "\n"
                  </pre>

                  <p>All the types of literals are actually turned into a message to create that literal, so the canonical form of the message chain contains no literals, just a message to create that literal. Any message can have zero or more arguments given to it. Arguments are separated with comma. If there are no arguments to a message, the parenthesis can be left off, but they need to be there if there are arguments. Mostly any combination of characters can be used as an Identifier, with some exceptions.</p>

                  <p>There is also a syntactic element called operators, which are handled a bit differently from regular messages. Specifically, through the use of operator shuffling, operators can be used in infix, including having different precedence rules. Assignment is a specific form of operator which gets its own kind of shuffling. These are both described below.</p>

                  <p>The two forms of brackets will get turned into a canonical form. Surrounding comma-separated message chains with square brackets is the same as calling the method [], giving it those message chains as argument. So [foo, bar, quux] is exactly the same as [](foo, bar, quux). The same is true for curly brackets.</p>

                  <p>Comments start with semicolon and end at the first newline. They can be used mostly anywhere, except inside of literal strings. Hash followed by exclamation mark is also a comment, to allow the shebang line in Unix scripts.</p>

                  <div class="section">
                    <h3><a name="literals">Literal values</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="operatorShuffling">Operator shuffling</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="assignmentShuffling">Assignment shuffling</a></h3>
                    <p>TODO: write content</p>
                  </div>
                </div>

                <div class="chapter">
                  <h2><a name="executionModel">Execution model</a></h2>
                  <p>TODO: write content</p>

                  <div class="section">
                    <h3><a name="pass">pass</a></h3>
                    <p>TODO: write content</p>
                  </div>
                </div>

                <div class="chapter">
                  <h2><a name="objects">Objects</a></h2>
                  <p>TODO: write content</p>

                  <div class="section">
                    <h3><a name="base">Base</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="ground">Ground</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="origin">Origin</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="defaultBehavior">DefaultBehavior</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="nilTrueFalse">nil, true, false</a></h3>
                    <p>TODO: write content</p>
                  </div>
                </div>

                <div class="chapter">
                  <h2><a name="assignment">Assignment</a></h2>
                  <p>TODO: write content</p>
                </div>

                <div class="chapter">
                  <h2><a name="controlFlow">Control flow</a></h2>
                  <p>TODO: write content</p>

                  <div class="section">
                    <h3><a name="comparison">Comparison</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="conditionals">Conditionals</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="iteration">Iteration</a></h3>
                    <p>TODO: write content</p>
                  </div>
                </div>

                <div class="chapter">
                  <h2><a name="code">Code</a></h2>
                  <p>TODO: write content</p>

                  <div class="section">
                    <h3><a name="methods">Methods</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="macros">Macros</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="blocks">Blocks</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="messageChains">Message chains</a></h3>
                    <p>TODO: write content</p>
                  </div>
                </div>

                <div class="chapter">
                  <h2><a name="introspection">Introspection and reflection</a></h2>
                  <p>TODO: write content</p>
                </div>

                <div class="chapter">
                  <h2><a name="importing">Importing</a></h2>
                  <p>TODO: write content</p>
                </div>

                <div class="chapter">
                  <h2><a name="coreKinds">Core kinds</a></h2>
                  <p>TODO: write content</p>

                  <div class="section">
                    <h3><a name="conditions">Conditions</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="text">Text</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="symbols">Symbols</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="numbers">Numbers</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="lists">Lists</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="dicts">Dicts</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="rangesAndPairs">Ranges and Pairs</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="enumerable">Enumerable</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="regexps">Regexps</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="filesystem">FileSystem</a></h3>
                    <p>TODO: write content</p>
                  </div>
                </div>

                <div class="chapter">
                  <h2><a name="libraries">Libraries</a></h2>
                  <p>TODO: write content</p>

                  <div class="section">
                    <h3><a name="iik">IIk</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="ispec">ISpec</a></h3>
                    <p>TODO: write content</p>
                  </div>

                  <div class="section">
                    <h3><a name="dokgen">DokGen</a></h3>
                    <p>TODO: write content</p>
                  </div>
                </div>

                <div class="chapter">
                  <h2><a name="missing">What is missing</a></h2>
                  <p>TODO: write content</p>
                </div>

                <div class="chapter">
                  <h2><a name="futurePlans">Future plans</a></h2>
                  <p>TODO: write content</p>
                </div>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
    </div>
  </body>
</html>
